/*! 
* dr-css-1.1: Site-wide sizing & spacing overrides
*/
body.has-normal-line-spacing {
	font-size: 16px;
	p {
		line-height: @v-p-lnhght;
		padding-bottom: 0;
	}
	ul,
	ol {
		li {
			line-height: @v-p-lnhght;
			padding-bottom: 0;
		}
		& > li:not(:first-child) {
			margin-top: 0.3em;
		}
	}
	* + h1,
	* + h2,
	* + h3,
	* + h4,
	* + h5,
	* + h6 {
		margin-top: (@v-btm-mrgns / 2);
	}
	:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
		& + p {
			margin-top: @v-btm-mrgns;
		}
		& + ul,
		& + ol {
			margin-top: 0.3em;
		}
	}
}

body.has-improved-contrast {
	color: @hex-darker-gray;
}

/*! 
* dr-css-1.2: Section overrides
*/
.row {
	&.single,
	&.halves {
		&:last-child .column {
			padding-bottom: @v-dflt-spcng;
		}
	}
	&.halves {
		background: rgba(255,255,255,.95);
		.column {
			background: transparent;
		}
	}
}

.sub-row {
	.fluid .row &.row {
		.column {
			padding: 0;
			margin: 0;
			background: none;
			@media all {
				@media (max-width: @v-rghtclmn-thrshld) {
					width: 100%;
				}
			}
			& + .column {
				@media all {
					@media (max-width: @v-rghtclmn-thrshld) {
						margin-top: (@v-dflt-spcng / 2);
					}
				}
			}
		}
		&.side-right,
		&.halves {
			.column {
				&.one {
					@media all {
						@media (min-width: (@v-rghtclmn-thrshld + 1)) {
							padding-right: (@v-dflt-spcng / 2);
						}
					}
				}
				&.two {
					@media all {
						@media (min-width: (@v-rghtclmn-thrshld + 1)) {
							padding-left: (@v-dflt-spcng / 2);
						}
					}
				}
			}
		}
	}
}

/*! 
* dr-css-1.3: Sectional article headers
*/
.row.halves.article-header,
.row.single.article-header {
	position: relative;
	&.gutter .column:not(.gutterless) {
		padding-left: 0;
		padding-right: 0;
	}
	&.pad-top .column {
		padding-top: 0;
	}
}
.row.halves.article-header {
	height: 230px;
	.column {
		&.one {
			position: absolute;
			right: 40%;
			left: 0;
			width: auto;
			height: 100%;			
			padding-left: 0;
			padding-right: 0;			
			background: @hex-accent-blue;
			header,
			.article-name,
			.wrapper {
				&:first-child {
					position: absolute;
					top: 50%;
					right: @v-dflt-spcng;
					left: @v-dflt-spcng;
					.transform(~"translateY(-50%)");
					@media all and (max-width: @v-rghtclmn-thrshld) {
						right: (@v-dflt-spcng / 2);
						left: (@v-dflt-spcng / 2);
					}
				}
			}
			.article-name {
				margin-top: 0;
				color: @hex-white;
				@media all and (max-width: @v-rghtclmn-thrshld) {
					font-size: 6.5vw;
				}
			}
			.article-location {
				padding-bottom: 0;
				margin-bottom: 0.125em;
				color: @hex-bright-gray;
				@media all and (max-width: @v-rghtclmn-thrshld) {
					font-size: 3.25vw;
				}
			}
			& > :not(header:first-child):not(.wrapper):not(.article-name):not(.article-location) {
				display: none;
			}
		}
		&.two {
			position: absolute;
			right: 0;
			left: 60%;
			width: auto;
			height: 100%;
			background-color: @hex-gray;
			background-position: center center;
			background-size: cover;
		}
		&.one, &.two {
			@media all and (max-width: @v-rghtclmn-thrshld) {
				float: left;
				clear: none;
			}
		}
	}
}
/*.row.single.article-header {
	height: 340px;
	.column {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: @hex-gray;
		background-position: center center;
		background-size: cover;
		&.show-header > header {
			box-sizing: border-box;
			position: absolute;
			left: 0;
			bottom: 0;
			width: 100%;
			padding: 2rem 2rem 0;
			@media all {
				@media (max-width:@v-lg-mbl-thrshld) {
					padding-left: .5rem;
				}
			} 
			& > * {
				@v-fnt-sclng-hdr: 1.0, 1.0, 1.0, 1.0, 0.814286, 0.714286;
				color: @hex-white;
				margin: 0;
				.has-responsive-font(3.5rem, 0.9em, @v-fnt-sclng-hdr);
				& { text-shadow: 1px 1px 2px @rgba; .getRgbaStr(@hex-black, 0.5); }
			}
		}
	}
}*/

/*! 
* dr-css-1.4: Article taglines & intro text
*/
.article-tagline {
	.has-sectionally-responsive-font(@v-artcl-tgln-sz, @v-p-lnhght);
	&.home {
		.has-sectionally-responsive-font((@v-artcl-tgln-sz * 1.310345), @v-p-lnhght);
	}
	.column & {
		.has-subst-font.serif;
		font-size: @v-artcl-tgln-sz;
		line-height: @v-artcl-tgln-lnhght;
		font-weight: @v-artcl-tgln-wght;
	}
	.column &.sans {
		&:extend(.has-alt-font);
		color: @hex-black;
		font-weight: 300;
		// letter-spacing: 0.5px; // Removed on 2016-06-10 to improve readability of text.
		& > span.lead-in {
			color: @hex-dark-blue;
			font-weight: 700;
			letter-spacing: normal;                    
		}
	}
	&:not(.has-no-bordering) {
		.has-pull-quote-bordering(@hex-darker-gray);
		&:not(.alt) {
			.column h1 + &,
			.column h2 + &,
			.column h3 + &,
			.column h4 + &,
			.column h5 + &,
			.column h6 + & {
				margin-top: (@v-btm-mrgns * 4 / 3);
			}
		}
		&.crimson {
			.has-pull-quote-bordering(@hex-crimson);
			color: @hex-crimson;
			.has-gray-text {
				color: @hex-darker-gray;
			}
		}
	}
	&.bold {
		font-weight: bold;
	}
	& + * {
		margin-top: (@v-dflt-spcng / 2);
	}
}

.intro-text {
	.has-sectionally-responsive-font((@v-artcl-tgln-sz * .85), @v-p-lnhght);
}

/*! 
* dr-css-1.5: Article sidebars
*/
.sidebar {
	@spacing: @v-dflt-spcng / 4;
	@header-padding: 0.5em;
	@border-width: 4px;
	@text-color: #646464;
	padding: @spacing;
	border-left: @border-width solid @hex-gray;
	background: @hex-bright-gray;
	color: @text-color;
	& > h1:first-child,
	& > h2:first-child,
	& > h3:first-child,
	& > h4:first-child,
	& > h5:first-child,
	& > h6:first-child,
	& > header:first-child > * {
		box-sizing: content-box;
		width: 100%;
		width: ~"calc(100% + @{border-width})";
		padding: @header-padding (@header-padding / 2);
		margin-top: (-1 * @spacing);
		margin-left: (-1 * @spacing);
		margin-bottom: @spacing;
		background-color: @hex-crimson;
		color: @hex-white;
	}
//	font-size: 0.9rem;
//	@media all {
//		@media (max-width: (@v-rghtclmn-thrshld)) {
//			width: 94%;
//			width: ~"calc(100% - @{spacing} * 2)";
//			margin-top: @spacing * 2;
//			margin-bottom: @spacing * 4;
//		}
//	}
}

/*! 
* dr-css-1.6: Tables of Conents
*/
#on-this-page {
	@otp-background: #2f3438;
	@highlight-color: #23272a;
	background-color: @otp-background;
	.column {
		background-color: inherit;
	}
	h2 {
		color: @hex-white;
		padding-left: @v-dflt-spcng;
		padding-bottom: (@v-dflt-spcng / 3);
	}
	ul {
		margin: 0;
		padding: 0;
		overflow: hidden;
		border-top: 1px solid @otp-background;
		border-left: 1px solid @otp-background;
		background-color: inherit;
		list-style-type: none;
	}
	li {
		float: left;
		margin-top: 0 !important;
		list-style-image: none;
		padding: 0;
		a {
			display: inline-block;
			color: white;
			text-align: center;
			padding: 14px 16px;
			border-right: 1px solid @otp-background;
			border-bottom: 1px solid @otp-background;
			border-radius: 0;
			background-color: @hex-darker-gray;
			box-shadow: none;
			&:hover {
				border-color: @otp-background;
				background-color: @highlight-color;
				text-shadow: none;
			}
			@media all and (max-width: @v-tblt-thrshld) {
				padding: 8px 10px;
			}
		}
	}
}

.back-to-otp {
	position: relative;
	padding-left: 1rem;
	font-size: 0.9em;
	&:before {
		content: "";
		position: absolute;
		width: 1rem;
		left: -3px;
		height: .9rem;
		background: url(https://s3.wp.wsu.edu/uploads/sites/167/2017/09/micon_returnKey_rotated-90-deg-cw_54x64.png) center center/auto 100% no-repeat;
	}
}

/*! 
* dr-css-1.7: Asides
*/
.page.cea {
	#experience-business {
		float: right;
		width: 33%;
		margin-top: (@v-dflt-spcng / 2);
		margin-bottom: (@v-dflt-spcng / 2);
		margin-left: (@v-dflt-spcng / 2);
		font-size: 0.9rem;
		@media (max-width: @v-rghtclmn-thrshld) {
			width: 100%;
		}
	}
}

/*! 
* dr-css-1.8: Sidebar Right Sections
*/
.row.side-right.has-graphical-sidebar {
	.column.one {
		@media all {
			@media (min-width: (@v-rghtclmn-thrshld + 1)) {
				margin-right: 0;
			}
			@media (max-width: @v-rghtclmn-thrshld) {
				width: 100%;
			}
		}
	}
	.column.two {
		margin-top: 0;
		background-size: cover;
		@media all {
			@media (min-width: (@v-rghtclmn-thrshld + 1)) {
				position: absolute;
				right: 0;
				width: 36%;
				height: 100%;
			}
			@media (max-width: @v-rghtclmn-thrshld) {
				width: 100%;
				height: 320px;
			}
		}
	}
}

/*! 
* dr-css-1.9: Styling specific to the Career Exploration Abroad page
*/
.page.cea {
	.row.article-header {
		.column.two {
			background-color: @hex-white;
			background-size: auto 90%;
			background-repeat: no-repeat;
		}
	}
	#apply-now {
		max-width: 288px;
		margin-right: auto;
		margin-bottom: 10px;
		margin-left: auto;
		text-align: center;
		font-size: 1.5em;
		font-weight: bold;
	}
	#cea-tagline {
		.column.one {
			padding-bottom: 0;
		}
	}
}

/*! 
* dr-css-1.10: Styling of glass buttons
*/
.column a {
	&.recommend-button,
	&.glass-button {
		display:block;
		position: relative;
		padding: 1em;
		border-radius: 7px;
		& {
			@shadow-clr: returned;
			.getRgbaForProp(@shadow-clr, @hex-black, 0.5);
			box-shadow: 0 2px 2px @@shadow-clr;
		}
		.transition(~"all 0.3s ease");			
		&:before {
			content: "";
			position: absolute;
			top: 2px;
			right: 2px;
			left: 2px;
			height: 50%;
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
			& {
				@color-top: returned; .getRgbaForProp(@color-top, @hex-white, 0.35);
				@color-btm: returned-2; .getRgbaForProp(@color-btm, @hex-white, 0.025);
				background: linear-gradient(@@color-top, @@color-btm);
			}
		}
		&:after {
			content: "";
			position: absolute;
			bottom: 0;
			right: 2px;
			left: 2px;
			height: 50%;
			border-bottom-left-radius: 7px;
			 border-bottom-right-radius: 7px;
			& {
				@color-top: returned; .getRgbaForProp(@color-top, @hex-black, 0);
				@color-btm: returned-2; .getRgbaForProp(@color-btm, @hex-black, 0.25);
				background: linear-gradient(@@color-top, @@color-btm);
			}
		}			
		&.crimson {
			background-color: @hex-crimson;
			color: white;
			&:hover {
				background-color: @hex-light-crimson;
				& {
					@glow-clr: returned-2; .getRgbaForProp(@glow-clr, @hex-light-crimson, 0.3333);
					box-shadow: 0 0 18px @@glow-clr;
				}
			}
		}
		&.yellow {
			background-color: @hex-accent-yellow;
			color: @hex-black;
			&:hover {
				background-color: #ffde1c;
				& {
					@shadow-clr: returned; .getRgbaForProp(@shadow-clr, @hex-black, 0.25);
					@glow-clr: returned-2; .getRgbaForProp(@glow-clr, #ffde1c, 0.8);
					box-shadow: 0 2px 2px @@shadow-clr, 0 0 18px @@glow-clr;
				}
			}
		}
		.icon {
			&,
			& + .label {
				display: inline-block;
				box-sizing: border-box;
				vertical-align: middle;
			}
			width: 55px;
			padding-right: 1em;
			border: 0;
			box-shadow: none;
			& + .label {
				display: inline-block;
				box-sizing: border-box;
				width: 100%;
				width: ~"calc(100% - 55px - 1em)";
			}
		}
	}
}
